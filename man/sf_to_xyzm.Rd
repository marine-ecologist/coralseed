% Generated by roxygen2: do not edit by hand
% Please edit documentation in R/st_to_xyzm.R
\name{sf_to_xyzm}
\alias{sf_to_xyzm}
\title{Build LINESTRING XYZM trips (integer M from a time column)}
\usage{
sf_to_xyzm(sf_obj, time_col = "dispersaltime", z_val = 0, cast_multi = TRUE)
}
\arguments{
\item{sf_obj}{sf object (POINTS for type="points"; LINESTRING/MULTILINESTRING for type="linestring")}

\item{time_col}{character name of time/index column (integers or numeric)}

\item{z_val}{numeric constant Z (default 0)}

\item{cast_multi}{logical; cast MULTILINESTRING to LINESTRING (default TRUE)}

\item{type}{c("points","linestring")}

\item{group_col}{character, group/id column for points (default "id" if present)}

\item{id_col}{character, id column for linestring collapse (default "id" if present)}
}
\description{
Minimal helper to create LINESTRING XYZM for mapdeck::add_trips()
using an integer range from a time/index column (e.g. "dispersaltime").
\itemize{
\item type = "points": group points by \code{group_col} (default "id") ordered by time,
build one LINESTRING per group with M = integer(time).
\item type = "linestring": if \code{id_col} present, collapse time-sliced features per id
and ramp M linearly from t -> next_t along vertices; last slice uses next_t = t + 1.
If no \code{id_col}, each feature ramps t -> t+1.
}
}
\details{
Sets geometry m_range attribute required by mapdeck.
}
